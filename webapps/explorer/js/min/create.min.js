define(["jquery","handlebars","common"],function(c,b,a){var d=function(){var h=0;var n=true;var e=false;var l={url:"/member/create.hdac",};var g={block_template:null,};
var o={info:null,sync:null,information:null,last:null,};this.initData=function(p){h=p.yPos;o=c.parseJSON(p.result);};this.getSavedData=function(){var p={};
p.yPos=c(window).scrollTop();p.result=JSON.stringify(o);return p;};this.init=function(){k();n=false;};this.resume=function(){k();};this.handleClick=function(w,u,p){var s=function(){var x=c("[name=user_id]").val().trim();
if(x==""){m(null,"input user id");return false;}var y=/^[A-Za-z0-9+]{4,20}$/i;if(x.match(y)==null){m(null,"invalid user id");return false;}if(c("[name=user_name]").val().trim()==""){m(null,"input user name");
return false;}if(c("[name=password]").val().trim()==""){m(null,"input password");return false;}};var v=function(){if(e){return;}if(s()==false){return;}var y=c("[name=form]").serialize();
var x={type:"post",dataType:"json",url:l.url,cache:false,data:y,};c.ajax(x).done(function(A,z,B){if(A&&(A.success=="true")){m(null,"create success",function(){var C="/home.hdac";
a._COMMON_.MovePage(C,true);});}else{m("Fail","create failed");}e=false;});e=true;};var t=u.data(),r=t.name;switch(r){case"login":var q="/member/login.hdac";
a._COMMON_.MovePage(q,true);break;case"join":var q="/member/create.hdac";a._COMMON_.MovePage(q,true);break;case"submit":v();break;default:if(typeof p=="function"){p(w,u);
}break;}};this.getYpos=function(){return h;};this.getInit=function(){return n;};var f=function(r,q,p){};var k=function(){var p=function(){b.registerHelper("chk",function(r,q){if(r>-1){return q.fn(this);
}return q.inverse(this);});};p();j();i();c(".ui.dropdown").dropdown();};var j=function(){var p=function(){var q=b.compile(c("#header-menu").html());c("#menu").html(q());
};p();};var i=function(){c("[name=user_id]").focus();c("[name=password]").keyup(function(p){if(p.keyCode==13){c("[data-name=login]").trigger("click");}});
};var m=function(s,r,p){var q={header:s,content:r,};if(g.template==null){g.template=b.compile(c("#modal_popup").html());}c("#modal").html(g.template(q));
c("#ui_modal").modal({onHide:function(){if(typeof p=="function"){p();}}}).modal("show");};};return new d();});