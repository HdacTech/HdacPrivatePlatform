define(["jquery","handlebars","common"],function(c,b,a){var d=function(){var i=0;var m=true;var e=false;var l={url:"/getBlocks.hdac",};var h={block_template:null,};
var n={info:null,sync:null,information:null,last:null,};this.initData=function(o){i=o.yPos;n=c.parseJSON(o.result);};this.getSavedData=function(){var o={};
o.yPos=c(window).scrollTop();o.result=JSON.stringify(n);return o;};this.init=function(){g(1,true,function(){k();m=false;});};this.resume=function(){k();
};this.handleClick=function(t,s,o){var r=s.data(),q=r.name;switch(q){case"move-blocks":alert("blocks보러 가기");break;case"move-home":var p="/main.hdac";a._COMMON_.MovePage(p,true);
break;default:if(typeof o=="function"){o(t,s);}break;}};this.getYpos=function(){return i;};this.getInit=function(){return m;};var g=function(q,p,o){if(e){return;
}if(p){var t=c.parseJSON(c("[name=sync]").val());var u=c.parseJSON(c("[name=info]").val());var s=c.parseJSON(c("[name=last]").val());console.log(t);console.log(u);
console.log(s);n.sync=t;n.information=u;n.last=s;var r={node:[{name:"Version",value:u.info.version,},{name:"Protocol version",value:u.info.protocolversion,},{name:"Blocks",value:u.info.blocks,},{name:"Time Offset",value:u.info.timeoffset,},{name:"Connections to other nodes",value:u.info.connections,},{name:"Mining Difficulty",value:u.info.difficulty,},{name:"Network",value:u.info.network,},{name:"Info Errors",value:u.info.errors,},],};
n.node=r.node;n.info={conn:u.info.connections,height:u.info.blocks,};}if(typeof o=="function"){o();}};var k=function(){var o=function(){b.registerHelper("num2CommaPoint",function(q,p){q=parseFloat(q.toString().point(p));
return q.toString().num2Comma();});b.registerHelper("toGMT",function(q){var p=Math.ceil((new Date()-new Date(q*1000))/1000);if(p<60){return p+" seconds ago";
}p=Math.ceil(p/60);if(p<60){return p+" minutes ago";}p=Math.ceil(p/60);if(p<24){return p+" hours ago";}p=Math.ceil(p/24);return p+" days ago";});};o();
j();f();};var j=function(){var o=b.compile(c("#header-common").html());c("#wrap").prepend(o(n.info));};var f=function(){var o=b.compile(c("#app-status").html());
c("#status").html(o(n));o=b.compile(c("#node-table").html());c("#status").append(o(n.node));};};return new d();});